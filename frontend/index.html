<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Access Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles.css">
</head>

<body
    class="bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center font-sans antialiased selection:bg-indigo-500 selection:text-white overflow-x-hidden relative">

    <!-- Background Gradients -->
    <div class="fixed top-0 left-0 w-full h-full overflow-hidden -z-10">
        <div
            class="absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-purple-700/30 rounded-full blur-[120px] animate-pulse">
        </div>
        <div
            class="absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-blue-700/30 rounded-full blur-[120px] animate-pulse delay-1000">
        </div>
    </div>

    <!-- Main Container -->
    <div class="w-full max-w-4xl p-6 z-10 animate-fade-in-up">

        <!-- Header -->
        <header class="text-center mb-10">
            <h1
                class="text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 tracking-tight drop-shadow-sm">
                GitHub Access Manager
            </h1>
            <p class="mt-3 text-gray-400 text-lg">Manage collaborator access effortlessly.</p>
        </header>

        <!-- Search Section -->
        <div class="glass-card p-8 rounded-2xl mb-8 border border-white/10 shadow-2xl backdrop-blur-xl">
            <div class="flex flex-col md:flex-row gap-4">
                <div class="relative flex-grow">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400">
                        <i class="fas fa-user-circle"></i>
                    </span>
                    <input type="text" id="emailInput" placeholder="Enter GitHub Username"
                        class="w-full py-4 pl-12 pr-4 bg-gray-800/50 border border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-100 placeholder-gray-500 transition-all duration-300 hover:bg-gray-800/70">
                </div>
                <button id="searchBtn"
                    class="md:w-48 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-bold rounded-xl shadow-lg transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 group">
                    <span id="searchBtnText">Search</span>
                    <i id="searchBtnIcon" class="fas fa-search group-hover:rotate-12 transition-transform"></i>
                </button>
            </div>
        </div>

        <!-- ── LIVE SCAN PANEL (shown while scanning) ── -->
        <div id="scanPanel"
            class="hidden glass-card rounded-2xl border border-blue-500/30 shadow-2xl mb-8 overflow-hidden">
            <!-- Header bar -->
            <div class="flex items-center gap-3 px-6 py-4 bg-blue-600/10 border-b border-blue-500/20">
                <span class="relative flex h-3 w-3">
                    <span
                        class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-3 w-3 bg-blue-500"></span>
                </span>
                <span class="text-blue-300 font-semibold text-sm tracking-wide uppercase">Live Scan</span>
                <span id="scanPercent" class="text-blue-200 text-sm font-mono ml-1">0%</span>
                <span id="scanFoundBadge"
                    class="ml-auto text-xs bg-green-500/20 text-green-300 border border-green-500/30 px-3 py-1 rounded-full font-semibold hidden">
                    <i class="fas fa-check-circle mr-1"></i><span id="scanFoundCount">0</span> found
                </span>
            </div>
            <!-- Progress bar -->
            <div class="w-full h-1.5 bg-white/5">
                <div id="scanProgressBar"
                    class="h-1.5 bg-gradient-to-r from-blue-500 to-indigo-400 transition-all duration-300 ease-out"
                    style="width:0%"></div>
            </div>

            <!-- Currently scanning -->
            <div class="px-6 py-4 border-b border-white/5">
                <p class="text-xs text-gray-500 uppercase tracking-widest mb-1">Currently checking</p>
                <div class="flex items-center gap-3">
                    <i class="fas fa-code-branch text-blue-400 text-sm"></i>
                    <span id="currentRepo" class="text-gray-200 font-mono text-sm truncate">—</span>
                    <div class="ml-auto flex gap-1">
                        <span class="w-1.5 h-1.5 rounded-full bg-blue-400 animate-bounce"
                            style="animation-delay:0ms"></span>
                        <span class="w-1.5 h-1.5 rounded-full bg-blue-400 animate-bounce"
                            style="animation-delay:150ms"></span>
                        <span class="w-1.5 h-1.5 rounded-full bg-blue-400 animate-bounce"
                            style="animation-delay:300ms"></span>
                    </div>
                </div>
            </div>

            <!-- Live found results stream -->
            <div id="liveResults" class="divide-y divide-white/5 max-h-64 overflow-y-auto">
                <!-- injected live as repos are found -->
            </div>
        </div>

        <!-- User Info (Hidden initially) -->
        <div id="userInfo"
            class="hidden glass-card p-6 rounded-2xl mb-6 border border-white/10 flex items-center gap-4 animate-fade-in">
            <img id="userAvatar" src="" alt="Avatar" class="w-16 h-16 rounded-full border-2 border-blue-500 shadow-md">
            <div>
                <h2 id="userName" class="text-2xl font-bold text-white"></h2>
                <p id="repoCount" class="text-gray-400"></p>
            </div>
        </div>

        <!-- Repo List Section (Hidden initially) -->
        <div id="resultsSection" class="hidden animate-fade-in-up">
            <div class="glass-card rounded-2xl border border-white/10 overflow-hidden shadow-2xl">
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead>
                            <tr
                                class="bg-white/5 border-b border-white/10 text-gray-300 uppercase text-sm tracking-wider">
                                <th id="selectAllCol" class="p-5 text-center w-16">
                                    <input type="checkbox" id="selectAll"
                                        class="w-5 h-5 rounded border-gray-600 text-blue-600 focus:ring-blue-500 bg-gray-700 cursor-pointer">
                                </th>
                                <th class="p-5">Repository</th>
                                <th class="p-5">Owner</th>
                                <th class="p-5">Permission</th>
                                <th class="p-5">Status</th>
                            </tr>
                        </thead>
                        <tbody id="repoTableBody" class="divide-y divide-white/10 text-gray-300 text-sm">
                            <!-- Rows will be injected here -->
                        </tbody>
                    </table>
                </div>

                <!-- Action Footer -->
                <div id="removeFooter" class="p-6 bg-white/5 border-t border-white/10 flex justify-end">
                    <button id="removeBtn" disabled
                        class="px-8 py-3 bg-red-600/90 hover:bg-red-500 text-white font-bold rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-0.5 transition-all duration-300 flex items-center gap-2">
                        <i class="fas fa-trash-alt"></i>
                        <span>Remove Access</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Notification Toast Container -->
        <div id="toastContainer" class="fixed bottom-5 right-5 z-50 flex flex-col gap-3"></div>

    </div>

    <script src="script.js"></script>
</body>

</html>